import{stringifyVariables as e}from"@urql/core";var r={__typename:"PageInfo",endCursor:null,startCursor:null,hasNextPage:!1,hasPreviousPage:!1},a=e=>"string"==typeof e?e:null,t=(e,r,a)=>{for(var t=new Set,s=0,n=r.length;s<n;s++){var o=e.resolve(r[s],"node");"string"==typeof o&&t.add(o)}for(var f=r.slice(),i=0,l=a.length;i<l;i++){var u=a[i],g=e.resolve(u,"node");"string"!=typeof g||t.has(g)||(t.add(g),f.push(u))}return f},s=(e,r)=>{for(var a=new Set,t=0,s=e.length;t<s;t++){var n=e[t];"string"==typeof n&&a.add(n)}for(var o=e.slice(),f=0,i=r.length;f<i;f++){var l=r[f];"string"!=typeof l||a.has(l)||(a.add(l),o.push(l))}return o},n=(r,a)=>{for(var t in a)if("first"!==t&&"last"!==t&&"after"!==t&&"before"!==t){if(!(t in r))return!1;var s=r[t],n=a[t];if(typeof s!=typeof n||"object"!=typeof s?s!==n:e(s)!==e(n))return!1}for(var o in r)if("first"!==o&&"last"!==o&&"after"!==o&&"before"!==o&&!(o in a))return!1;return!0},o=(e,t,s)=>{var n=a(e.resolve(t,s));if(!n)return null;var o=e.resolve(n,"__typename"),f=e.resolve(n,"edges")||[],i=e.resolve(n,"nodes")||[];if("string"!=typeof o)return null;var l={__typename:o,edges:f,nodes:i,pageInfo:r},u=e.resolve(n,"pageInfo");if("string"==typeof u){var g=a(e.resolve(u,"__typename")),v=a(e.resolve(u,"endCursor")),p=a(e.resolve(u,"startCursor")),d=e.resolve(u,"hasNextPage"),y=e.resolve(u,"hasPreviousPage"),m=l.pageInfo={__typename:"string"==typeof g?g:"PageInfo",hasNextPage:"boolean"==typeof d?d:!!v,hasPreviousPage:"boolean"==typeof y?y:!!p,endCursor:v,startCursor:p};if(null===m.endCursor){var h=f[f.length-1];if(h){var _=e.resolve(h,"cursor");m.endCursor=a(_)}}if(null===m.startCursor){var P=f[0];if(P){var C=e.resolve(P,"cursor");m.startCursor=a(C)}}}return l},f=(e={})=>{var f=e.mergeMode||"inwards";return(e,i,l,u)=>{var{parentKey:g,fieldName:v}=u,p=l.inspectFields(g).filter((e=>e.fieldName===v)),d=p.length;if(0!==d){for(var y=null,m=[],h=[],_=[],P=[],C={...r},c=0;c<d;c++){var{fieldKey:I,arguments:b}=p[c];if(null!==b&&n(i,b)){var N=o(l,g,I);if(null!==N&&(0!==N.nodes.length||0!==N.edges.length||!y)){if("inwards"===f&&"number"==typeof b.last&&"number"==typeof b.first){var x=N.edges.slice(0,b.first+1),w=N.edges.slice(-b.last),K=N.nodes.slice(0,b.first+1),S=N.nodes.slice(-b.last);m=t(l,m,x),h=t(l,w,h),_=s(_,K),P=s(S,P),C=N.pageInfo}else b.after?(m=t(l,m,N.edges),_=s(_,N.nodes),C.endCursor=N.pageInfo.endCursor,C.hasNextPage=N.pageInfo.hasNextPage):b.before?(h=t(l,N.edges,h),P=s(N.nodes,P),C.startCursor=N.pageInfo.startCursor,C.hasPreviousPage=N.pageInfo.hasPreviousPage):"number"==typeof b.last?(h=t(l,N.edges,h),P=s(N.nodes,P),C=N.pageInfo):(m=t(l,m,N.edges),_=s(_,N.nodes),C=N.pageInfo);N.pageInfo.__typename!==C.__typename&&(C.__typename=N.pageInfo.__typename),y!==N.__typename&&(y=N.__typename)}}}if("string"==typeof y){if(!a(l.resolve(g,v,i))){if(!u.store.schema)return;u.partial=!0}return{__typename:y,edges:"inwards"===f?t(l,m,h):t(l,h,m),nodes:"inwards"===f?s(_,P):s(P,_),pageInfo:{__typename:C.__typename,endCursor:C.endCursor,startCursor:C.startCursor,hasNextPage:C.hasNextPage,hasPreviousPage:C.hasPreviousPage}}}}}},i=({offsetArgument:r="skip",limitArgument:a="limit",mergeMode:t="after"}={})=>{var s=(t,s)=>{for(var n in s)if(n!==r&&n!==a){if(!(n in t))return!1;var o=t[n],f=s[n];if(typeof o!=typeof f||"object"!=typeof o?o!==f:e(o)!==e(f))return!1}for(var i in t)if(i!==r&&i!==a&&!(i in s))return!1;return!0};return(e,a,n,o)=>{var{parentKey:f,fieldName:i}=o,l=n.inspectFields(f).filter((e=>e.fieldName===i)),u=l.length;if(0!==u){for(var g=new Set,v=[],p=null,d=0;d<u;d++){var{fieldKey:y,arguments:m}=l[d];if(null!==m&&s(a,m)){var h=n.resolve(f,y),_=m[r];if(null!==h&&0!==h.length&&"number"==typeof _){for(var P=[],C=0;C<h.length;C++){var c=h[C];g.has(c)||(P.push(c),g.add(c))}v=(!p||_>p)==("after"===t)?[...v,...P]:[...P,...v],p=_}}}return n.resolve(f,i,a)?v:o.store.schema?(o.partial=!0,v):void 0}}};export{f as relayPagination,i as simplePagination};
//# sourceMappingURL=urql-exchange-graphcache-extras.min.mjs.map
