/* Markdown and MDX Styling for blog posts, using @tailwind/typography with `prose` */
.prose {
  /* prevent horizontal overflow */
  @apply overflow-x-hidden;
  /* emergency word break */
  @apply break-words;
  /* heading font sizes */
  @apply prose-h1:text-3xl prose-h1:font-bold md:prose-h1:text-4xl;
  @apply prose-h2:text-2xl prose-h2:font-bold md:prose-h2:text-3xl;
  @apply prose-h3:text-xl prose-h3:font-semibold md:prose-h3:text-2xl;
  @apply prose-h4:text-lg prose-h4:font-semibold md:prose-h4:text-xl;
  /* all headings */
  @apply prose-headings:mb-5 prose-headings:mt-7 prose-headings:text-base-900 dark:prose-headings:text-base-100;
  /* paragraphs */
  @apply prose-p:my-2 prose-p:leading-normal prose-p:text-base-500 dark:prose-p:text-white;
  /* bold text */
  @apply prose-strong:font-bold prose-strong:text-base-900 dark:prose-strong:text-white;
  /* code */
  @apply prose-code:rounded-md prose-code:border-2 prose-code:border-solid prose-code:border-base-200 prose-code:bg-base-50 prose-code:px-[.1rem] prose-code:font-normal prose-code:text-inherit dark:prose-code:border-base-800 dark:prose-code:bg-base-800 dark:prose-code:text-base-100 sm:prose-code:text-base;
  /* code remove backticks */
  code::before {
    content: "";
  }
  code::after {
    content: "";
  }
  /* code blocks - scrollable on overflow */
  pre {
    @apply max-w-full overflow-x-auto;
  }
  /* lists */
  @apply prose-li:text-base-500 dark:prose-li:text-base-300;
  /* anchor links - only set text color, underline handled by global link styles */
  @apply prose-a:text-primary-500 hover:prose-a:text-primary-600 dark:prose-a:text-primary-400 dark:hover:prose-a:text-primary-300;
  /* images - constrained to container width on mobile */
  @apply prose-img:mx-auto prose-img:h-auto prose-img:w-full prose-img:max-w-full prose-img:rounded-md md:prose-img:max-w-[800px];
  /* video */
  @apply prose-video:mr-auto prose-video:min-w-0 prose-video:max-w-full;
  /* blockquote */
  @apply prose-blockquote:border-l-primary-500;
  /* horizontal rule */
  @apply prose-hr:my-8 prose-hr:border-base-200 dark:prose-hr:border-base-800;
  /* table - scrollable wrapper on mobile */
  @apply prose-table:block prose-table:max-w-full prose-table:overflow-x-auto;
  /* table head */
  @apply prose-thead:border-b-base-400 prose-thead:text-left dark:prose-thead:border-b-base-700;
  /* table row */
  @apply prose-tr:border-b-base-200 dark:text-base-300 dark:prose-tr:border-b-base-800;

  /* SVGs and other wide elements */
  svg {
    @apply max-w-full h-auto;
  }
}

/* Markdown Styling for admonitions in posts, using @tailwind/typography with `prose`
   These are meant to override any of the normal prose stylings above */
.admonition {
  /* headings */
  @apply mt-0 prose-headings:mb-0;
  /* paragraphs */
  @apply prose-p:mb-0 prose-p:mt-0;
  /* code */
  @apply prose-code:rounded-lg prose-code:border-opacity-0 prose-code:px-[.1rem] prose-code:font-normal prose-code:text-inherit sm:prose-code:text-base;
  /* anchor links */
  @apply prose-a:text-inherit prose-a:underline prose-a:transition hover:prose-a:text-inherit hover:prose-a:opacity-80;
}

/* Terminal admonition - inline paragraph for compact display */
.admonition.border-gold p {
  display: inline;
}

.prose h1:first-child,
.prose h2:first-child,
.prose h3:first-child,
.prose h4:first-child,
.prose h5:first-child,
.prose h6:first-child,
.prose p:first-child,
.prose a:first-child,
.prose code:first-child,
.prose blockquote:first-child,
.prose .astro-code:first-child {
  @apply mt-0;
}

.prose .astro-code code {
  @apply border-none bg-inherit;
}

/* youtube embed */
.prose iframe {
  @apply mr-auto min-w-0 max-w-full;
}

/* ASCII/plaintext code blocks - transparent text background */
.prose pre[data-language="plaintext"] code {
  background: transparent !important;
}

/* Game UI ASCII block - retro terminal style (use with .game-ui-desktop wrapper) */
.game-ui-desktop pre {
  @apply text-[10px] xs:text-[11px] sm:text-xs md:text-sm;
  @apply leading-[1.15] tracking-tight;
  @apply bg-base-950 font-mono;
  @apply border border-base-700 rounded-lg;
  @apply p-3 sm:p-4;
  @apply mx-auto;
  width: fit-content;
  max-width: 100%;
}

.game-ui-desktop pre code {
  @apply text-foam;
}

.game-ui-desktop pre code span {
  color: inherit !important;
}
