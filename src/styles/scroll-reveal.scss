/* CSS Scroll-Driven Reveal Animations
 * Replaces JavaScript AOS library with native CSS animation-timeline: view()
 * Content is always visible by default; animations are progressive enhancement
 */

/* Keyframes */
@keyframes reveal-fade-up {
  from {
    opacity: 0;
    transform: translateY(2rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes reveal-fade-down {
  from {
    opacity: 0;
    transform: translateY(-2rem);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes reveal-fade-left {
  from {
    opacity: 0;
    transform: translateX(2rem);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes reveal-fade-right {
  from {
    opacity: 0;
    transform: translateX(-2rem);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes reveal-zoom-in {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes reveal-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Scroll-driven animations - progressive enhancement */
@supports (animation-timeline: view()) {
  .use-animations [data-reveal="fade-up"] {
    animation: reveal-fade-up linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 35%;
  }

  .use-animations [data-reveal="fade-down"] {
    animation: reveal-fade-down linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 35%;
  }

  .use-animations [data-reveal="fade-left"] {
    animation: reveal-fade-left linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 35%;
  }

  .use-animations [data-reveal="fade-right"] {
    animation: reveal-fade-right linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 35%;
  }

  .use-animations [data-reveal="zoom-in"] {
    animation: reveal-zoom-in linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 35%;
  }

  .use-animations [data-reveal="fade-in"] {
    animation: reveal-fade-in linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 35%;
  }

  /* Stagger delays: shift animation-range forward by 3% per ordinal */
  .use-animations [data-reveal-delay="1"] { animation-range: entry 3% entry 38%; }
  .use-animations [data-reveal-delay="2"] { animation-range: entry 6% entry 41%; }
  .use-animations [data-reveal-delay="3"] { animation-range: entry 9% entry 44%; }
  .use-animations [data-reveal-delay="4"] { animation-range: entry 12% entry 47%; }
  .use-animations [data-reveal-delay="5"] { animation-range: entry 15% entry 50%; }
  .use-animations [data-reveal-delay="6"] { animation-range: entry 18% entry 53%; }
  .use-animations [data-reveal-delay="7"] { animation-range: entry 21% entry 56%; }
  .use-animations [data-reveal-delay="8"] { animation-range: entry 24% entry 59%; }
}

/* JS fallback for browsers without scroll-driven animations (Firefox) */
@supports not (animation-timeline: view()) {
  .use-animations [data-reveal] {
    opacity: 0;
    transition: opacity 0.6s ease, transform 0.6s ease;
  }

  .use-animations [data-reveal="fade-up"] { transform: translateY(2rem); }
  .use-animations [data-reveal="fade-down"] { transform: translateY(-2rem); }
  .use-animations [data-reveal="fade-left"] { transform: translateX(2rem); }
  .use-animations [data-reveal="fade-right"] { transform: translateX(-2rem); }
  .use-animations [data-reveal="zoom-in"] { transform: scale(0.9); }

  .use-animations [data-reveal].revealed {
    opacity: 1;
    transform: none;
  }

  /* Stagger delays for fallback */
  .use-animations [data-reveal-delay="1"] { transition-delay: 0.1s; }
  .use-animations [data-reveal-delay="2"] { transition-delay: 0.2s; }
  .use-animations [data-reveal-delay="3"] { transition-delay: 0.3s; }
  .use-animations [data-reveal-delay="4"] { transition-delay: 0.4s; }
  .use-animations [data-reveal-delay="5"] { transition-delay: 0.5s; }
  .use-animations [data-reveal-delay="6"] { transition-delay: 0.6s; }
  .use-animations [data-reveal-delay="7"] { transition-delay: 0.7s; }
  .use-animations [data-reveal-delay="8"] { transition-delay: 0.8s; }
}

/* Reduced motion: disable all reveal animations */
@media (prefers-reduced-motion: reduce) {
  [data-reveal] {
    animation: none !important;
    transition: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}
