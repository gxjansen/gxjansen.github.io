---
interface Props {
  slideshareKey: string;
}

const { slideshareKey } = Astro.props;
---

<div class="mb-12">
  <h2 class="h3 mb-4">Slides</h2>
  <div class="relative pb-[56.25%] bg-slate-100 dark:bg-slate-800 rounded-lg" id={`slide-container-${slideshareKey}`}>
    <iframe 
      src={`//www.slideshare.net/slideshow/embed_code/key/${slideshareKey}?hostedIn=slideshare&page=upload`}
      class="absolute top-0 left-0 w-full h-full border-none rounded-lg"
      allowfullscreen
      loading="lazy"
      onload="this.parentElement.classList.remove('bg-slate-100', 'dark:bg-slate-800')"
      onerror={`document.getElementById('slide-container-${slideshareKey}').innerHTML = '<div class="absolute inset-0 flex items-center justify-center text-slate-500 dark:text-slate-400">Failed to load slides. <a href="https://www.slideshare.net/slideshow/embed_code/key/${slideshareKey}" target="_blank" class="ml-2 text-blue-500 hover:underline">View on SlideShare</a></div>'`}
    />
  </div>
</div>

<script is:inline define:vars={{ slideshareKey }}>
// Suppress jQuery not found errors
window.jQuery = window.jQuery || function() {};
window.$ = window.$ || function() {};
</script>
