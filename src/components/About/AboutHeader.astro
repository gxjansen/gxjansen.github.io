---
/**
 * * Header section for the About page with responsive image placement
 * Desktop: Text left-aligned with image on the right
 * Mobile: Text followed by image below
 */
import Badge from "@components/Badge/Badge.astro";

// Define the path to the images
const desktopImagePath = "/images/guido-left.png";
const mobileImagePath = "/images/guido-up.png";

// Check for reduced motion preference
const reducedMotionQuery = "(prefers-reduced-motion: reduce)";
const shouldReduceMotion =
  typeof window !== "undefined"
    ? window.matchMedia(reducedMotionQuery).matches
    : false;
---

<section
  class="overflow-hidden pb-0 pt-24 md:pb-0 md:pt-28"
  aria-labelledby="about-header-heading"
  role="region"
>
  <div class="site-container relative px-2 sm:px-4" role="presentation">
    <div class="flex flex-col md:flex-row md:items-start md:gap-12">
      <!-- Text Content -->
      <div
        class="mb-12 text-left md:mb-16 md:w-2/3"
        aria-labelledby="about-header-heading"
      >
        <Badge>About</Badge>
        <h1 id="about-header-heading" class="h1 mb-6">
          Hi, I'm Guido<span role="img" aria-label="waving hand">ðŸ‘‹</span>
        </h1>
        <div
          class="space-y-6 text-lg md:text-xl"
          aria-label="Professional introduction"
        >
          <p class="description">
            I build <span class="font-semibold text-primary-500"
              >communities that matter to the business</span
            >, not just to the community itself.
          </p>
          <p class="description">
            Where many optimize for engagement metrics, I design systems that
            translate <span class="font-semibold text-primary-500"
              >developer and customer intelligence</span
            > into product strategy, reduce support costs, and create competitive
            moats built on trust rather than lock-in.
          </p>
          <p class="description">
            I've done this from zero <a
              href="/communities/"
              class="text-primary-500 underline underline-offset-2 transition-colors hover:text-primary-600 dark:hover:text-primary-400"
              >multiple times</a
            >. My psychology background helps me understand why technical users
            behave the way they do and to design interventions that actually
            work.
          </p>
        </div>
      </div>

      <!-- Image Container -->
      <div class="md:w-1/3" role="complementary" aria-label="Profile images">
        <!-- Desktop Image -->
        <figure class="hidden md:absolute md:bottom-0 md:right-4 md:block">
          <img
            src={desktopImagePath}
            alt="Guido X Jansen, community strategist and cognitive psychologist, standing confidently in a professional setting"
            class="h-auto max-h-[700px] w-full object-contain"
            loading="eager"
            width="600"
            height="900"
          />
        </figure>

        <!-- Mobile Image -->
        <figure class="mt-8 md:hidden">
          <img
            src={mobileImagePath}
            alt="Guido X Jansen, community strategist and cognitive psychologist, in a casual professional pose"
            class="h-auto max-h-[400px] w-full object-contain"
            loading="eager"
            width="400"
            height="600"
          />
        </figure>
      </div>
    </div>
  </div>
</section>

<style>
  /* High contrast mode enhancements */
  @media (forced-colors: active) {
    .text-primary-500 {
      color: CanvasText;
      font-weight: bold;
    }
  }

  /* Ensure proper focus visibility */
  :focus-visible {
    outline: 2px solid var(--focus-ring-color, theme("colors.primary.500"));
    outline-offset: 2px;
  }
</style>
