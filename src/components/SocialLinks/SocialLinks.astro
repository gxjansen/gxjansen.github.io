---
// Import the social links configuration
import { socialLinks } from '@data/socialLinks';
import SocialIcon from '@components/SocialIcon/SocialIcon.astro';

interface Props {
  class?: string;
  location?: 'footer' | 'hero';
}

const { class: className, location = 'footer' } = Astro.props;

// Explicitly filter links based on location
const visibleLinks = socialLinks.filter(link => {
  if (location === 'footer') {
    return link.visibility.footer === true;
  }
  if (location === 'hero') {
    return link.visibility.hero === true;
  }
  return false;
});
---

<nav
  class:list={["relative z-10", className]}
  role="navigation"
  aria-label="Social media links"
>
  <ul 
    class="flex items-center gap-4 pointer-events-auto" 
    role="list"
  >
    {
      visibleLinks.map(({ name, href, icon }) => (
        <li role="listitem">
          <SocialIcon
            href={href}
            icon={icon}
            social={name}
          />
        </li>
      ))
    }
  </ul>
</nav>
