---
/**
 * * About page restructured for community strategist positioning
 * New structure: Value Proposition → Why It Works → The Story → Testimonials → What's Next
 */

// main layout
import BaseLayout from "@layouts/BaseLayout.astro";

// components - ordered by new page structure
import AboutHeader from "@components/About/AboutHeader.astro";
import WhyItWorks from "@components/About/WhyItWorks.astro";
import AwardsSection from "@components/Press/AwardsSection.astro";
import TheStory from "@components/About/TheStory.astro";

// data
import { pressCoverage } from '../data/press-coverage';
import { filterAvailableContent } from '../utils/content-availability';

// Filter awards and nominations
const availableCoverage = filterAvailableContent(pressCoverage);
const sortedCoverage = [...availableCoverage].sort((a, b) =>
  new Date(b.publicationDate).getTime() - new Date(a.publicationDate).getTime()
);
const awards = sortedCoverage.filter(item => item.category === 'award' || item.category === 'nomination');
import ColleagueTestimonials from "@components/Testimonials/ColleagueTestimonials.astro";
import WhatsNext from "@components/About/WhatsNext.astro";
import FeatureGalleryMarquee from "@components/Feature/FeatureGalleryMarquee.astro";
import Badge from "@components/Badge/Badge.astro";
import SocialCards from "@components/SocialCards/SocialCards.astro";
import NewsletterForm from "@components/Newsletter/NewsletterForm.astro";
---

<BaseLayout
  title="About Guido | Community Builder"
  description="Guido X Jansen: Community Builder with 20+ years creating technical ecosystems. Founded Dutchento/Meet Magento, created CRO.CAFE, led community at Spryker. Psychology background, business outcome focus."
>
  <!-- Section 1: Value Proposition -->
  <AboutHeader />

  <!-- Section 2: Why It Works - Psychology + business outcome focus -->
  <WhyItWorks />

  <!-- Section 3: Awards & Nominations -->
  {awards.length > 0 && <AwardsSection awards={awards} />}

  <!-- Section 4: The Story - Personal background -->
  <TheStory />

  <!-- Section 4: Testimonials -->
  <ColleagueTestimonials />

  <!-- Section 5: What's Next - Availability signal -->
  <WhatsNext />

  <!-- Visual gallery -->
  <FeatureGalleryMarquee />

  <section class="py-24 md:py-28">
    <div class="site-container px-2 sm:px-4">
      <div class="relative">
        <div class="mx-auto text-center md:max-w-2xl">
          <Badge>Connect with me</Badge>
          <h2 class="h2 mb-4">Let's Connect</h2>
          <p class="description text-lg md:text-xl">
            I share thoughts on community building, developer ecosystems, and the psychology behind what makes people contribute.
          </p>
        </div>
        
        <div class="mt-12">
          <SocialCards />
        </div>
      </div>
    </div>
  </section>

  <NewsletterForm
    variant="cta"
    title="Subscribe to Guido's <span class='underline decoration-gold-light dark:decoration-gold decoration-2 underline-offset-4'>Golden</span> Nuggets"
  />
</BaseLayout>
