---
// layout
import BaseLayout from "@layouts/BaseLayout.astro";

// components
import Badge from "@components/Badge/Badge.astro";
import ContentTypeSelector from "@components/Press/ContentTypeSelector.astro";
import VideoSection from "@components/Press/VideoSection.astro";
import PodcastSection from "@components/Press/PodcastSection.astro";
import ArticleSection from "@components/Press/ArticleSection.astro";
import LinkedInCTA from "@components/Press/LinkedInCTA.astro";

// data
import { pressCoverage } from '../data/press-coverage';

// Sort press coverage by date
const sortedCoverage = [...pressCoverage].sort((a, b) => 
  new Date(b.publicationDate).getTime() - new Date(a.publicationDate).getTime()
);

// Separate content by type
const videos = sortedCoverage.filter(item => item.youtubeLink);
const podcasts = sortedCoverage.filter(item => item.spotifyEmbedId);
const articles = sortedCoverage.filter(item => !item.youtubeLink && !item.spotifyEmbedId);
---

<BaseLayout 
  title="Press / Media"
  description="Media appearances, interviews and articles featuring Guido Jansen."
>
  <section class="py-24 md:py-28">
    <div class="site-container bg-[url('/assets/pattern-light.svg')] bg-center bg-no-repeat dark:bg-[url('/assets/pattern-dark.svg')]">
      <div class="mx-auto mb-16 text-center md:max-w-4xl" data-aos="fade-up">
        <Badge>Media</Badge>
        <h2 class="h2 mb-4">Press / Media</h2>
        <p class="description text-lg md:text-xl">
          I'm interviewed by different media regularly and appear on different (online and offline) panels. Below you can find a selection of these. Contact me if you're interested in interviewing me or having me on your event!
        </p>
      </div>

      <ContentTypeSelector />
    </div>
  </section>

  <VideoSection videos={videos} />
  <PodcastSection podcasts={podcasts} />
  <ArticleSection articles={articles} />
  <LinkedInCTA />
</BaseLayout>
