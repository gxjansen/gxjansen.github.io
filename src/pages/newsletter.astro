---
/**
 * Newsletter subscription page with detailed information about
 * content expectations, privacy, and GDPR compliance.
 */

// main layout
import BaseLayout from "@layouts/BaseLayout.astro";

// components
import Badge from "@components/Badge/Badge.astro";
import NewsletterForm from "@components/Newsletter/NewsletterForm.astro";

// utils
import { getLocaleFromUrl } from "@js/localeUtils";

const currLocale = getLocaleFromUrl(Astro.url);
---

<BaseLayout
  title="Newsletter"
  description="Get occasional insights on ecosystem strategy, community building, and where technology meets business. No spam, no tracking pixels."
  transition:animate="slide"
>
  <!-- Header -->
  <section class="pt-24 md:pt-28 pb-8">
    <div class="site-container px-4">
      <div class="mx-auto max-w-2xl text-center">
        <Badge>Stay informed</Badge>
        <h1 class="h1 mb-6">The Newsletter</h1>
      </div>
    </div>
  </section>

  <!-- Newsletter signup form (full-width CTA) -->
  <NewsletterForm
    variant="cta"
    title="Get Guido's Golden Nuggets"
  />

  <!-- Value proposition -->
  <section class="py-8 md:py-12">
    <div class="site-container px-4">
      <div class="mx-auto max-w-2xl text-center">
        <p class="text-base-600 dark:text-base-400 text-lg">
          20+ years at the intersection of technology, community, and business. From Joomla! to Meet Magento to Spryker. This newsletter shares what I've learned.
        </p>
        <p class="text-sm text-base-500 dark:text-base-400 mt-3">
          Self-hosted. No Big Tech. No tracking pixels.
        </p>
      </div>
    </div>
  </section>

  <!-- Content section -->
  <section class="py-12 md:py-16">
    <div class="site-container px-4">
      <div class="mx-auto max-w-2xl">
        <div class="prose dark:prose-invert mx-auto">
          <h2>What to expect</h2>
          <p>
            When you subscribe, you'll receive occasional emails about:
          </p>
          <ul>
            <li><strong>Ecosystem strategy:</strong> How to build and leverage business ecosystems and partner networks</li>
            <li><strong>Community building:</strong> Practical insights from building developer and user communities</li>
            <li><strong>Technology and business:</strong> The intersection where tech decisions meet business outcomes</li>
            <li><strong>New content:</strong> Notifications when I publish new articles, talks, or resources</li>
          </ul>
          <p>
            I send emails sporadically, typically a few times per quarter at most. No weekly spam, no daily "tips" that clutter your inbox.
          </p>

          <h2>Your privacy matters</h2>
          <p>
            I take your privacy seriously. Here's exactly how your data is handled:
          </p>

          <h3>What I collect</h3>
          <ul>
            <li><strong>Email address:</strong> Required to send you the newsletter</li>
            <li><strong>Name:</strong> Optional, only if you choose to provide it</li>
            <li><strong>Subscription date:</strong> When you signed up</li>
          </ul>

          <h3>What I don't do</h3>
          <ul>
            <li><strong>No tracking pixels:</strong> I don't use invisible images to track if you opened an email</li>
            <li><strong>No behavioral profiling:</strong> I don't build profiles based on your reading habits</li>
            <li><strong>No data selling:</strong> Your information is never sold or shared with third parties</li>
            <li><strong>No advertising:</strong> The newsletter is not monetized through ads</li>
          </ul>

          <h3>Link tracking</h3>
          <p>
            Links in emails may include UTM parameters (like <code>?utm_source=newsletter</code>) so I can see in my privacy-friendly analytics (<a href="https://umami.is/" target="_blank" rel="noopener noreferrer">Umami</a>) how many people came from the newsletter. This helps me understand what content resonates. These parameters don't identify you personally. I just see aggregate numbers like "47 people clicked through from the newsletter."
          </p>

          <h2>GDPR compliance</h2>
          <p>
            This newsletter is fully compliant with the EU General Data Protection Regulation (GDPR):
          </p>
          <ul>
            <li><strong>Lawful basis:</strong> Your explicit consent when subscribing</li>
            <li><strong>Double opt-in:</strong> You'll receive a confirmation email to verify your subscription</li>
            <li><strong>Easy unsubscribe:</strong> Every email includes a one-click unsubscribe link</li>
            <li><strong>Data access:</strong> You can <a href="/contact">request a copy of your data</a> at any time</li>
            <li><strong>Data deletion:</strong> You can <a href="/contact">request complete deletion</a> of your data</li>
            <li><strong>EU-based infrastructure:</strong> The newsletter is powered by <a href="https://listmonk.app/" target="_blank" rel="noopener noreferrer">Listmonk</a>, self-hosted on EU-based servers</li>
          </ul>

          <h2>Self-hosted and open source</h2>
          <p>
            Unlike most newsletter platforms, I use <a href="https://listmonk.app/" target="_blank" rel="noopener noreferrer">Listmonk</a>, a free, open-source newsletter manager that I host myself. This means:
          </p>
          <ul>
            <li>Your data stays on servers I control</li>
            <li>No third-party company has access to subscriber lists</li>
            <li>No vendor lock-in or corporate policies to worry about</li>
            <li>Full transparency: the <a href="https://github.com/knadh/listmonk" target="_blank" rel="noopener noreferrer">software's code</a> is publicly auditable</li>
          </ul>

          <h2>Questions?</h2>
          <p>
            If you have any questions about the newsletter or how your data is handled, feel free to reach out via <a href="/contact">my contact page</a>.
          </p>
        </div>
      </div>
    </div>
  </section>

</BaseLayout>
